# 🚀 快速启动指南

## 第一次运行项目

### 1. 安装依赖

在项目根目录执行：

```bash
npm install
```

如果使用 pnpm 或 yarn：

```bash
pnpm install
# 或
yarn install
```

### 2. 启动开发服务器

```bash
npm run dev
```

浏览器会自动打开 `http://localhost:3000`

### 3. 体验游戏

- 在主菜单点击"开始游戏"
- 使用 WASD 键移动玩家（绿色方块）
- 观察迷雾系统的效果
- 按 `I` 键打开背包界面
- 按 `ESC` 键暂停游戏

## 🎯 当前实现的功能

✅ **核心系统**
- Phaser 3 游戏引擎集成
- React UI 覆盖层
- Zustand 状态管理
- TypeScript 类型安全

✅ **游戏功能**
- 玩家移动控制（WASD）
- 迷雾探索系统
- 基础场景切换
- HUD显示（生命值、魔力值）
- 背包系统界面

✅ **开发功能**
- 热更新
- TypeScript 编译
- ESLint 代码检查
- 本地存档系统

## 📝 下一步开发

### 优先级P0（必须完成）
1. **添加美术资源**
   - 替换玩家占位符为实际精灵图
   - 添加敌人精灵图
   - 添加环境贴图

2. **实现战斗系统**
   - 创建敌人实体
   - 实现伤害计算
   - 添加战斗反馈

3. **实现魔法系统**
   - 火球术
   - 冰霜新星
   - 技能冷却

### 优先级P1（重要）
4. **音效和音乐**
   - 添加背景音乐
   - 添加音效管理器
   - 实现音量控制

5. **地图系统**
   - Tiled地图编辑器集成
   - 多区域地图
   - 地图碰撞

6. **任务系统**
   - 任务接取
   - 任务追踪
   - 任务完成

## 🔧 开发技巧

### 调试Phaser场景

在浏览器控制台中：

```javascript
// 获取当前场景
game.scene.scenes[0]

// 切换场景
game.scene.switch('MenuScene', 'GameScene')

// 查看物理调试
// 在 src/game/config.ts 中设置 debug: true
```

### 修改玩家属性

在 `src/constants/gameConfig.ts` 中修改：

```typescript
export const PLAYER_CONFIG = {
  SPEED: 100,           // 移动速度
  STARTING_HEALTH: 100, // 初始生命值
  STARTING_MANA: 80,    // 初始魔力值
  STARTING_LEVEL: 1,    // 初始等级
}
```

### 添加新技能

1. 在 `public/data/skills.json` 添加技能数据
2. 在 `src/game/systems/MagicSystem.ts` 实现技能逻辑
3. 在技能树中配置解锁条件

## 📦 项目结构速查

```
program1/
├── src/
│   ├── game/           # Phaser游戏代码
│   │   ├── scenes/     # 游戏场景
│   │   ├── entities/   # 游戏实体
│   │   └── systems/    # 游戏系统
│   ├── ui/             # React UI组件
│   ├── store/          # 状态管理
│   ├── types/          # 类型定义
│   └── constants/      # 配置常量
├── public/
│   ├── assets/         # 游戏资源（需添加）
│   └── data/           # 配置数据
└── docs/               # 文档
```

## 🐛 常见问题

### Q: npm install 失败？
A: 尝试删除 `node_modules` 和 `package-lock.json`，然后重新安装

### Q: 游戏黑屏？
A: 检查浏览器控制台是否有错误，确保所有资源路径正确

### Q: 热更新不工作？
A: 重启开发服务器：Ctrl+C 然后 `npm run dev`

### Q: TypeScript 报错？
A: 运行 `npm run build` 查看详细错误信息

## 📚 学习资源

- [Phaser 3 Examples](https://phaser.io/examples)
- [Phaser 3 API文档](https://photonstorm.github.io/phaser3-docs/)
- [React 教程](https://react.dev/learn)
- [TypeScript 手册](https://www.typescriptlang.org/docs/handbook/intro.html)

## 🎮 开发建议

1. **从小做起**：先完成一个完整的小功能，再扩展
2. **频繁测试**：每次修改后立即测试
3. **提交代码**：功能完成后及时commit
4. **阅读文档**：遇到问题先查Phaser官方文档
5. **保持简单**：优先实现核心玩法，再添加复杂功能

---

**祝开发顺利！🌟**
