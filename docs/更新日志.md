# 📝 更新日志

## v0.3.0 - 村庄系统 v2.0 (2025-10-20)

### 🆕 新增功能

#### 1. 泉水回血系统 💧
- 在村庄内自动恢复生命值
- 回血速度：5 HP/秒
- 显示绿色浮动数字提示
- 满血后自动停止

#### 2. 多村庄系统 🏘️
- 支持3个不同规模的村庄：
  - 起始村庄（中型，150px半径）
  - 森林村庄（小型，100px半径）
  - 山脚村庄（大型，200px半径）
- 每个村庄有独立配置和功能

#### 3. 探索解锁机制 🔍
- 靠近未解锁村庄自动发现
- 解锁提示：屏幕中央黄色大字
- 村庄位置闪光特效
- 解锁后村庄立即可用

#### 4. 村庄传送系统 🌀
- 按 T 键在村庄间传送
- 紫色传送特效（光圈+粒子）
- 只能在有传送点的村庄使用
- 起始村庄无传送点

### ✨ 改进

#### 村庄视觉效果
- 泉水标记：💧 蓝色水滴+脉动效果
- 传送点标记：🌀 紫色漩涡+旋转动画
- 村庄名称显示规模：[小]、[中]、[大]
- 提示文字：显示功能信息

#### 安全区增强
- 支持多个村庄的安全区
- 不同规模村庄有不同半径
- 敌人生成避开所有村庄

### 🔧 技术改进

#### 代码重构
- 单村庄 → 多村庄架构
- 村庄配置数组化
- 统一的村庄检测方法

#### 新增方法
- `initializeVillages()` - 初始化村庄列表
- `createSpring()` - 创建泉水标记
- `createTeleportPoint()` - 创建传送点
- `healPlayerInSpring()` - 泉水回血
- `checkVillageUnlock()` - 检查解锁
- `handleTeleport()` - 处理传送
- `showTeleportEffect()` - 传送特效

### 📝 文档更新
- 更新 `村庄系统说明.md` - 完整功能说明
- 新增 `村庄系统v2实现说明.md` - 技术实现文档
- 更新 `已完成功能总结.md` - 标记完成
- 更新 `docs/README.md` - 添加文档索引

### 📊 代码统计
- 修改文件：1个 (`GameScene.ts`)
- 新增代码：~280行
- 新增方法：9个
- 文档更新：4个

---

## v0.2.0 - 复活和升级系统 (2025-10-20)

### 🆕 新增功能

#### 1. 复活点机制
- 玩家血量清零后3秒复活
- 复活时满血满蓝
- 复活点位置：起始村庄中心
- 死亡动画和提示

#### 2. 经验和升级系统
- 经验条UI显示
- 击杀敌人获得经验
- 经验达标自动升级
- 升级提升属性（HP+10, MP+5）
- 升级特效和提示

### 🐛 修复
- 修复碰撞检测（使用collider替代overlap）
- 修复玩家掉血HUD不更新
- 增强攻击和伤害反馈

---

## v0.1.0 - 基础系统 (2025-10-19)

### 🆕 初始功能
- 玩家移动系统
- 敌人AI系统
- 战斗系统基础
- HUD界面
- 地图系统
- 迷雾探索
- 数据持久化

---

**最新版本**: v0.3.0  
**下一版本计划**: v0.4.0 - 任务系统
